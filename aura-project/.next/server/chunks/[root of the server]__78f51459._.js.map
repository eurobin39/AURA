{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///Users/eurobae/AURA/Aura/aura-project/lib/db.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\nconst db = new PrismaClient();\n\nexport default db;"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,KAAK,IAAI,6HAAA,CAAA,eAAY;uCAEZ","debugId":null}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///Users/eurobae/AURA/Aura/aura-project/app/api/focus-log/route.ts"],"sourcesContent":["// app/api/focus-log/route.ts\nimport { NextRequest, NextResponse } from \"next/server\";\nimport db from \"@/lib/db\";\nimport { getIronSession } from \"iron-session\";\nimport { cookies } from \"next/headers\";\n\ninterface SessionContent {\n  id?: number;\n}\n\nasync function getSession(): Promise<SessionContent> {\n  const cookieStore = cookies();\n  return getIronSession<SessionContent>(cookieStore, {\n    cookieName: \"delicious-karrot\",\n    password: process.env.COOKIE_PASSWORD!,\n    cookieOptions: {\n      secure: process.env.NODE_ENV === \"production\",\n    },\n  });\n}\n\nexport async function GET(req: NextRequest) {\n  const session = await getSession();\n  const url = new URL(req.url);\n  const fallbackId = url.searchParams.get(\"userId\");\n\n  const userId = session?.id ?? (fallbackId ? parseInt(fallbackId) : null);\n\n  if (!userId) {\n    return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n  }\n\n  try {\n    const logs = await db.focusLog.findMany({\n      where: { userId },\n      orderBy: { timestamp: \"desc\" },\n      take: 10,\n    });\n\n    return NextResponse.json(logs);\n  } catch (err) {\n    console.error(\"❌ Failed to fetch logs:\", err);\n    return NextResponse.json({ error: \"Failed to fetch logs\" }, { status: 500 });\n  }\n}\n\nexport async function POST(req: NextRequest) {\n  const session = await getSession();\n  const body = await req.json();\n  const fallbackId = body.userId;\n\n  const userId = session?.id ?? fallbackId;\n\n  if (!userId) {\n    return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n  }\n\n  const { keyboard, mouseClicks, mouseDistance, focusScore } = body;\n\n  try {\n    const newLog = await db.focusLog.create({\n      data: {\n        keyboard,\n        mouseClicks,\n        mouseDistance,\n        focusScore,\n        userId,\n      },\n    });\n\n    return NextResponse.json(newLog, { status: 201 });\n  } catch (err) {\n    console.error(\"❌ Failed to save log:\", err);\n    return NextResponse.json({ error: \"Failed to save log\" }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;AAC7B;AACA;AACA;AACA;;;;;AAMA,eAAe;IACb,MAAM,cAAc,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IAC1B,OAAO,CAAA,GAAA,kJAAA,CAAA,iBAAc,AAAD,EAAkB,aAAa;QACjD,YAAY;QACZ,UAAU,QAAQ,GAAG,CAAC,eAAe;QACrC,eAAe;YACb,QAAQ,oDAAyB;QACnC;IACF;AACF;AAEO,eAAe,IAAI,GAAgB;IACxC,MAAM,UAAU,MAAM;IACtB,MAAM,MAAM,IAAI,IAAI,IAAI,GAAG;IAC3B,MAAM,aAAa,IAAI,YAAY,CAAC,GAAG,CAAC;IAExC,MAAM,SAAS,SAAS,MAAM,CAAC,aAAa,SAAS,cAAc,IAAI;IAEvE,IAAI,CAAC,QAAQ;QACX,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAe,GAAG;YAAE,QAAQ;QAAI;IACpE;IAEA,IAAI;QACF,MAAM,OAAO,MAAM,2GAAA,CAAA,UAAE,CAAC,QAAQ,CAAC,QAAQ,CAAC;YACtC,OAAO;gBAAE;YAAO;YAChB,SAAS;gBAAE,WAAW;YAAO;YAC7B,MAAM;QACR;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAuB,GAAG;YAAE,QAAQ;QAAI;IAC5E;AACF;AAEO,eAAe,KAAK,GAAgB;IACzC,MAAM,UAAU,MAAM;IACtB,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,MAAM,aAAa,KAAK,MAAM;IAE9B,MAAM,SAAS,SAAS,MAAM;IAE9B,IAAI,CAAC,QAAQ;QACX,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAe,GAAG;YAAE,QAAQ;QAAI;IACpE;IAEA,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,aAAa,EAAE,UAAU,EAAE,GAAG;IAE7D,IAAI;QACF,MAAM,SAAS,MAAM,2GAAA,CAAA,UAAE,CAAC,QAAQ,CAAC,MAAM,CAAC;YACtC,MAAM;gBACJ;gBACA;gBACA;gBACA;gBACA;YACF;QACF;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC,QAAQ;YAAE,QAAQ;QAAI;IACjD,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAqB,GAAG;YAAE,QAAQ;QAAI;IAC1E;AACF","debugId":null}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}