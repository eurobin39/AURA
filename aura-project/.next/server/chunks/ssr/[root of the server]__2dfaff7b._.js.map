{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/eurobae/AURA/Aura/aura-project/components/input.tsx"],"sourcesContent":["import { InputHTMLAttributes } from \"react\";\n\ninterface InputProps {\n    errors?: string[];\n    name: string;\n    defaultValue?: string;\n}\n\nexport default function Input({ name, errors = [], ...rest }: InputProps & InputHTMLAttributes<HTMLInputElement>) {\n    return (\n        <div className=\"flex flex-col gap-1.5\">\n            <input\n                name={name}\n                className={`bg-gray-800/50 text-white rounded-lg w-full h-12 px-4 \n                           border border-gray-600 placeholder-gray-400\n                           focus:outline-none focus:ring-2 focus:ring-blue-500 \n                           transition-all duration-300 shadow-lg\n                           disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed`}\n                {...rest}\n            />\n            {errors.length > 0 && (\n                <div className=\"text-red-400 text-sm font-medium\">\n                    {errors.map((error, index) => (\n                        <p key={index}>{error}</p>\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAQe,SAAS,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE,GAAG,MAA0D;IAC5G,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBACG,MAAM;gBACN,WAAW,CAAC;;;;kGAIsE,CAAC;gBAClF,GAAG,IAAI;;;;;;YAEX,OAAO,MAAM,GAAG,mBACb,8OAAC;gBAAI,WAAU;0BACV,OAAO,GAAG,CAAC,CAAC,OAAO,sBAChB,8OAAC;kCAAe;uBAAR;;;;;;;;;;;;;;;;AAMhC","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///Users/eurobae/AURA/Aura/aura-project/app/register/actions.tsx"],"sourcesContent":["\"use server\";\n\nimport { z } from \"zod\";\nimport db from \"@/lib/db\"\nimport { PASSWORD_REGEX } from \"@/lib/constants\";\nimport bcrypt from \"bcryptjs\";\nimport { redirect } from \"next/navigation\";\nimport getSession from \"@/lib/session\"\n\nconst checkPassWord = ({ password, confirmPassword }: { password: string, confirmPassword: string }) =>\n    password === confirmPassword;\n\nconst formSchema = z.object({\n    username: z.string().min(3).max(10).trim().toLowerCase(),\n    email: z.string().email().toLowerCase(),\n    password: z.string().min(10).regex(PASSWORD_REGEX, \"password must have lowercase, UPPERCASE, number and special Character!\"),\n    confirmPassword: z.string().min(10),\n}).superRefine(async ({ username }, ctx) => {\n    const user = await db.user.findUnique({\n        where: {\n            username,\n        },\n        select: {\n            id: true\n        }\n    });\n    if (user) {\n        ctx.addIssue({\n            code: 'custom',\n            message: \"this username is already taken\",\n            path: [username],\n            fatal: true,\n        });\n        return z.NEVER;\n    }\n}\n).superRefine(async ({ email }, ctx) => {\n    const user = await db.user.findUnique({\n        where: {\n            email,\n        },\n        select: {\n            id: true\n        }\n    });\n    if (user) {\n        ctx.addIssue({\n            code: 'custom',\n            message: \"this email is already taken\",\n            path: [email],\n            fatal: true,\n        });\n        return z.NEVER;\n    }\n}\n).refine(checkPassWord, {\n    message: \"confirm password is different!\",\n    path: [\"confirmPassword\"],\n});\n\nexport async function createAccount(\n    prevState: { \n      fieldErrors?: { \n        username?: string[], \n        email?: string[], \n        password?: string[], \n        confirmPassword?: string[] \n      } \n    } | null, \n    formData: FormData\n  ) {\n    const data = {\n        username: formData.get(\"username\"),\n        email: formData.get(\"email\"),\n        password: formData.get(\"password\"),\n        confirmPassword: formData.get(\"confirmPassword\"),\n    };\n\n    const result = await formSchema.safeParseAsync(data);\n    if (!result.success) {\n        return result.error.flatten();\n    } else {\n        const hashedPassword = await bcrypt.hash(result.data.password, 12);\n\n        const user = await db.user.create({\n            data: {\n                username: result.data.username,\n                email: result.data.email,\n                password: hashedPassword,\n                role: \"Pending\", // Automatically assign \"Pending\" role\n            },\n            select: {\n                id: true,\n            },\n        });\n        const session = await getSession();\n\n        session.id = user.id\n        await session.save();\n        redirect(\"/pending-approval\"); // Redirect to a pending approval page\n    }\n}"],"names":[],"mappings":";;;;;IA4DsB","debugId":null}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///Users/eurobae/AURA/Aura/aura-project/components/button.tsx"],"sourcesContent":["\"use client\"\n\nimport { useFormStatus } from \"react-dom\";\n\ninterface ButtonProps {\n    text: string;\n    disabled?: boolean;\n}\n\nexport default function Button({ text, disabled = false }: ButtonProps) {\n    const { pending } = useFormStatus();\n\n    return (\n        <button\n            disabled={disabled || pending}\n            className={`\n                flex items-center justify-center w-full h-12 \n                rounded-lg font-semibold transition-all duration-300\n                text-white shadow-lg hover:scale-105 active:scale-100\n                ${disabled || pending ? \"bg-gray-500 cursor-not-allowed\" \n                                     : \"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700\"}\n            `}\n        >\n            {pending ? (\n                <span className=\"flex items-center gap-2\">\n                    <span className=\"animate-spin h-5 w-5 border-4 border-t-transparent border-white rounded-full\"></span>\n                    Loading...\n                </span>\n            ) : text}\n        </button>\n    );\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AASe,SAAS,OAAO,EAAE,IAAI,EAAE,WAAW,KAAK,EAAe;IAClE,MAAM,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,4MAAA,CAAA,gBAAa,AAAD;IAEhC,qBACI,8OAAC;QACG,UAAU,YAAY;QACtB,WAAW,CAAC;;;;gBAIR,EAAE,YAAY,UAAU,mCACD,uFAAuF;YAClH,CAAC;kBAEA,wBACG,8OAAC;YAAK,WAAU;;8BACZ,8OAAC;oBAAK,WAAU;;;;;;gBAAsF;;;;;;mBAG1G;;;;;;AAGhB","debugId":null}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file:///Users/eurobae/AURA/Aura/aura-project/app/register/page.tsx"],"sourcesContent":["\"use client\";\n\nimport Input from \"../../components/input\";\nimport { useActionState } from \"react\";\nimport { createAccount } from \"./actions\";\nimport Button from \"@/components/button\";\nimport Link from \"next/link\";\n\nexport default function CreateAccount() {\n  const [state, action] = useActionState(createAccount, null);\n\n  return (\n    <div className=\"flex flex-col items-center justify-center min-h-screen p-6 bg-gradient-to-b from-gray-800 to-gray-700\">\n      <div className=\"bg-white/10 backdrop-blur-xl shadow-2xl rounded-2xl p-8 max-w-md w-full border border-gray-600\">\n        <div className=\"flex flex-col gap-3 items-center\">\n          <Link href=\"/\" className=\"font-extrabold text-4xl text-white tracking-wide\">\n            AURA\n          </Link>\n          <h2 className=\"text-lg text-gray-300\">Join the Community!</h2>\n        </div>\n        <form action={action} className=\"flex flex-col gap-4 mt-6\">\n          <Input\n            name=\"username\"\n            required\n            type=\"text\"\n            placeholder=\"Username\"\n            className=\"rounded-lg border-gray-500 bg-gray-800/50 text-gray-300 shadow-lg focus:ring-blue-500 focus:border-blue-500 placeholder-gray-400\"\n            errors={state?.fieldErrors.username}\n          />\n          <Input\n            name=\"email\"\n            required\n            type=\"email\"\n            placeholder=\"Email\"\n            className=\"rounded-lg border-gray-500 bg-gray-800/50 text-gray-300 shadow-lg focus:ring-blue-500 focus:border-blue-500 placeholder-gray-400\"\n            errors={state?.fieldErrors.email}\n          />\n          <Input\n            name=\"password\"\n            required\n            type=\"password\"\n            placeholder=\"Password\"\n            className=\"rounded-lg border-gray-500 bg-gray-800/50 text-gray-300 shadow-lg focus:ring-blue-500 focus:border-blue-500 placeholder-gray-400\"\n            errors={state?.fieldErrors.password}\n          />\n          <Input\n            name=\"confirmPassword\"\n            required\n            type=\"password\"\n            placeholder=\"Confirm Password\"\n            className=\"rounded-lg border-gray-500 bg-gray-800/50 text-gray-300 shadow-lg focus:ring-blue-500 focus:border-blue-500 placeholder-gray-400\"\n            errors={state?.fieldErrors.confirmPassword}\n          />\n\n          <Button text=\"Create Account\" />\n        </form>\n        <p className=\"mt-4 text-center text-gray-400 text-sm\">\n          Already have an account?{\" \"}\n          <Link href=\"/login\" className=\"text-blue-400 hover:underline\">\n            Log in\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,CAAC,OAAO,OAAO,GAAG,CAAA,GAAA,qMAAA,CAAA,iBAAc,AAAD,EAAE,2HAAA,CAAA,gBAAa,EAAE;IAEtD,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;4BAAI,WAAU;sCAAmD;;;;;;sCAG5E,8OAAC;4BAAG,WAAU;sCAAwB;;;;;;;;;;;;8BAExC,8OAAC;oBAAK,QAAQ;oBAAQ,WAAU;;sCAC9B,8OAAC,oHAAA,CAAA,UAAK;4BACJ,MAAK;4BACL,QAAQ;4BACR,MAAK;4BACL,aAAY;4BACZ,WAAU;4BACV,QAAQ,OAAO,YAAY;;;;;;sCAE7B,8OAAC,oHAAA,CAAA,UAAK;4BACJ,MAAK;4BACL,QAAQ;4BACR,MAAK;4BACL,aAAY;4BACZ,WAAU;4BACV,QAAQ,OAAO,YAAY;;;;;;sCAE7B,8OAAC,oHAAA,CAAA,UAAK;4BACJ,MAAK;4BACL,QAAQ;4BACR,MAAK;4BACL,aAAY;4BACZ,WAAU;4BACV,QAAQ,OAAO,YAAY;;;;;;sCAE7B,8OAAC,oHAAA,CAAA,UAAK;4BACJ,MAAK;4BACL,QAAQ;4BACR,MAAK;4BACL,aAAY;4BACZ,WAAU;4BACV,QAAQ,OAAO,YAAY;;;;;;sCAG7B,8OAAC,qHAAA,CAAA,UAAM;4BAAC,MAAK;;;;;;;;;;;;8BAEf,8OAAC;oBAAE,WAAU;;wBAAyC;wBAC3B;sCACzB,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;4BAAS,WAAU;sCAAgC;;;;;;;;;;;;;;;;;;;;;;;AAOxE","debugId":null}},
    {"offset": {"line": 293, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}